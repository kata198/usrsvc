<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html ><head ><title >Python: module usrsvcmod.Program</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head><body bgcolor="#f0f0f8" >

<table width="100%" cellspacing="0" cellpadding="2" border="0" summary="heading" >
<tr bgcolor="#7799ee" >
<td valign="bottom" >&nbsp;<br />
<font color="#ffffff" face="helvetica, arial" >&nbsp;<br /><big ><big ><strong ><a href="usrsvcmod.html" ><font color="#ffffff" >usrsvcmod</font></a>.Program</strong></big></big></font></td><td align="right" valign="bottom" ><font color="#ffffff" face="helvetica, arial" ><a href="usrsvcmod.html" >index</a></font></td></tr></table>
    <p ><tt >Copyright&nbsp;(c)&nbsp;2016&nbsp;Tim&nbsp;Savannah&nbsp;All&nbsp;Rights&nbsp;Reserved.<br />
This&nbsp;software&nbsp;is&nbsp;licensed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;GPLv3.<br />
This&nbsp;may&nbsp;change&nbsp;at&nbsp;my&nbsp;discretion,&nbsp;retroactively,&nbsp;and&nbsp;without&nbsp;notice.<br />
&nbsp;<br />
You&nbsp;should&nbsp;have&nbsp;received&nbsp;a&nbsp;copy&nbsp;of&nbsp;this&nbsp;with&nbsp;the&nbsp;source&nbsp;distribution&nbsp;as&nbsp;a&nbsp;file&nbsp;titled,&nbsp;LICENSE.<br />
&nbsp;<br />
The&nbsp;most&nbsp;current&nbsp;license&nbsp;can&nbsp;be&nbsp;found&nbsp;at:<br />
https://github.com/kata198/usrsvc/LICENSE<br />
&nbsp;<br />
This&nbsp;location&nbsp;may&nbsp;need&nbsp;to&nbsp;be&nbsp;changed&nbsp;at&nbsp;some&nbsp;point&nbsp;in&nbsp;the&nbsp;future,&nbsp;in&nbsp;which&nbsp;case<br />
you&nbsp;are&nbsp;may&nbsp;email&nbsp;Tim&nbsp;Savannah&nbsp;&lt;kata198&nbsp;at&nbsp;gmail&nbsp;dot&nbsp;com&gt;,&nbsp;or&nbsp;find&nbsp;them&nbsp;on&nbsp;the<br />
current&nbsp;website&nbsp;intended&nbsp;for&nbsp;distribution&nbsp;of&nbsp;usrsvc.<br />
&nbsp;<br />
&nbsp;<br />
'<a href="#Program" >Program</a>'&nbsp;represents&nbsp;a&nbsp;program,&nbsp;running&nbsp;or&nbsp;not.</tt></p>
<p >
<table width="100%" cellspacing="0" cellpadding="2" border="0" summary="section" >
<tr bgcolor="#aa55cc" >
<td colspan="3" valign="bottom" >&nbsp;<br />
<font color="#ffffff" face="helvetica, arial" ><big ><strong >Modules</strong></big></font></td></tr>
    
<tr ><td bgcolor="#aa55cc" ><tt >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td >&nbsp;</td>
<td width="100%" ><table width="100%" summary="list" ><tr ><td width="25%" valign="top" ><a href="os.html" >os</a><br />
<a href="re.html" >re</a><br />
</td><td width="25%" valign="top" ><a href="shlex.html" >shlex</a><br />
<a href="signal.html" >signal</a><br />
</td><td width="25%" valign="top" ><a href="subprocess.html" >subprocess</a><br />
<a href="time.html" >time</a><br />
</td><td width="25%" valign="top" ><a href="traceback.html" >traceback</a><br />
</td></tr></table></td></tr></table><p >
<table width="100%" cellspacing="0" cellpadding="2" border="0" summary="section" >
<tr bgcolor="#ee77aa" >
<td colspan="3" valign="bottom" >&nbsp;<br />
<font color="#ffffff" face="helvetica, arial" ><big ><strong >Classes</strong></big></font></td></tr>
    
<tr ><td bgcolor="#ee77aa" ><tt >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td >&nbsp;</td>
<td width="100%" ><dl >
<dt ><font face="helvetica, arial" ><a href="builtins.html#object" >builtins.object</a>
</font></dt><dd >
<dl >
<dt ><font face="helvetica, arial" ><a href="usrsvcmod.Program.html#Program" >Program</a>
</font></dt></dl>
</dd>
</dl>
 <p >
<table width="100%" cellspacing="0" cellpadding="2" border="0" summary="section" >
<tr bgcolor="#ffc8d8" >
<td colspan="3" valign="bottom" >&nbsp;<br />
<font color="#000000" face="helvetica, arial" ><a name="Program" >class <strong >Program</strong></a>(<a href="builtins.html#object" >builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8" ><td rowspan="2" ><tt >&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan="2" ><tt ><a href="#Program" >Program</a>&nbsp;-&nbsp;defines&nbsp;a&nbsp;program,&nbsp;running&nbsp;or&nbsp;not.<br />&nbsp;</tt></td></tr>
<tr ><td >&nbsp;</td>
<td width="100%" >Methods defined here:<br />
<dl ><dt ><a name="Program-__init__" ><strong >__init__</strong></a>(self, pidfile=None, pid=None, cmdline=None, executable=None, args=None, running=False)</dt><dd ><tt >Create&nbsp;a&nbsp;program.<br />
&nbsp;<br />
@param&nbsp;pidfile&nbsp;-&nbsp;&lt;str/None&gt;&nbsp;-&nbsp;path&nbsp;to&nbsp;pidfile<br />
@param&nbsp;pid&nbsp;-&nbsp;&lt;int/None&gt;&nbsp;-&nbsp;pid&nbsp;of&nbsp;program<br />
@param&nbsp;cmdline&nbsp;-&nbsp;&lt;str/None&gt;&nbsp;-&nbsp;cmdline&nbsp;of&nbsp;program<br />
@param&nbsp;executable&nbsp;-&nbsp;&lt;str/None&gt;&nbsp;-&nbsp;executable&nbsp;or&nbsp;None<br />
@param&nbsp;args&nbsp;-&nbsp;&lt;list/None&gt;&nbsp;-&nbsp;List&nbsp;of&nbsp;args,&nbsp;or&nbsp;None.<br />
@param&nbsp;running&nbsp;-&nbsp;&lt;bool&gt;&nbsp;-&nbsp;True/False.<br />
&nbsp;<br />
Should&nbsp;not&nbsp;be&nbsp;created&nbsp;direcly,&nbsp;use&nbsp;one&nbsp;of&nbsp;the&nbsp;static&nbsp;methods&nbsp;to&nbsp;create&nbsp;this.</tt></dd></dl>

<dl ><dt ><a name="Program-__str__" ><strong >__str__</strong></a>(self)</dt><dd ><tt >Return&nbsp;str(self).</tt></dd></dl>

<dl ><dt ><a name="Program-getStartTime" ><strong >getStartTime</strong></a>(self)</dt><dd ><tt >getStartTime&nbsp;-&nbsp;Get&nbsp;the&nbsp;epoch&nbsp;timestamp&nbsp;for&nbsp;when&nbsp;this&nbsp;process&nbsp;was&nbsp;started.<br />
&nbsp;<br />
@return&nbsp;-&nbsp;time&nbsp;process&nbsp;was&nbsp;started,&nbsp;or&nbsp;None&nbsp;if&nbsp;no&nbsp;program&nbsp;found&nbsp;matching&nbsp;this&nbsp;<a href="#Program" >Program</a>'s&nbsp;pid.</tt></dd></dl>

<dl ><dt ><a name="Program-removePidFile" ><strong >removePidFile</strong></a>(self, programConfig)</dt><dd ><tt >removePidFile&nbsp;-&nbsp;Removes&nbsp;the&nbsp;pid&nbsp;file&nbsp;associated&nbsp;with&nbsp;this&nbsp;<a href="#Program" >Program</a>.<br />
&nbsp;<br />
@param&nbsp;programConfig&nbsp;&lt;ProgramConfig.ProgramConfig&gt;&nbsp;-&nbsp;The&nbsp;ProgramConfig&nbsp;for&nbsp;this&nbsp;program</tt></dd></dl>

<dl ><dt ><a name="Program-setCmdlineFromProc" ><strong >setCmdlineFromProc</strong></a>(self, forcePid=None)</dt><dd ><tt >setCmdlineFromProc&nbsp;-&nbsp;Sets&nbsp;the&nbsp;commandline&nbsp;properties&nbsp;(cmdline,&nbsp;exectuable,&nbsp;args)&nbsp;from&nbsp;the&nbsp;proc&nbsp;value.<br />
&nbsp;<br />
@param&nbsp;forcePid&nbsp;-&nbsp;Uses&nbsp;the&nbsp;pid&nbsp;on&nbsp;this&nbsp;<a href="builtins.html#object" >object</a>&nbsp;as&nbsp;default,&nbsp;but&nbsp;you&nbsp;can&nbsp;force&nbsp;another&nbsp;with&nbsp;this&nbsp;param.</tt></dd></dl>

<dl ><dt ><a name="Program-startProgram" ><strong >startProgram</strong></a>(self, programConfig)</dt><dd ><tt >startProgram&nbsp;-&nbsp;Start&nbsp;the&nbsp;program&nbsp;and&nbsp;update&nbsp;this&nbsp;<a href="builtins.html#object" >object</a>.<br />
&nbsp;<br />
@param&nbsp;programConfig&nbsp;&lt;ProgramConfig.ProgramConfig&gt;&nbsp;-&nbsp;The&nbsp;program&nbsp;config&nbsp;associated&nbsp;with&nbsp;this&nbsp;program.</tt></dd></dl>

<dl ><dt ><a name="Program-stopProgram" ><strong >stopProgram</strong></a>(self, programConfig)</dt><dd ><tt >stopProgram&nbsp;-&nbsp;Stop&nbsp;this&nbsp;<a href="#Program" >Program</a>&nbsp;and&nbsp;remove&nbsp;pid&nbsp;file.<br />
&nbsp;<br />
@param&nbsp;programConfig&nbsp;&lt;ProgramConfig.ProgramConfig&gt;&nbsp;-&nbsp;The&nbsp;ProgramConfig&nbsp;for&nbsp;this&nbsp;program<br />
&nbsp;<br />
@return&nbsp;&lt;str&gt;&nbsp;-&nbsp;Returns&nbsp;a&nbsp;string&nbsp;of&nbsp;what&nbsp;happened.&nbsp;Can&nbsp;be&nbsp;one&nbsp;of&nbsp;"noaction",&nbsp;"terminated"&nbsp;(SIGTERM),&nbsp;"killed"&nbsp;(SIGKILL)</tt></dd></dl>

<dl ><dt ><a name="Program-validateProcTitle" ><strong >validateProcTitle</strong></a>(self, programConfig)</dt><dd ><tt >validateProcTitle&nbsp;-&nbsp;uses&nbsp;proctitle_re&nbsp;to&nbsp;validate&nbsp;if&nbsp;the&nbsp;proctitle&nbsp;associated&nbsp;with&nbsp;the&nbsp;pid&nbsp;associated&nbsp;with&nbsp;this&nbsp;<a href="builtins.html#object" >object</a><br />
&nbsp;&nbsp;matches.<br />
&nbsp;<br />
@return&nbsp;-&lt;bool&gt;&nbsp;If&nbsp;the&nbsp;pid&nbsp;associated&nbsp;with&nbsp;this&nbsp;<a href="#Program" >Program</a>&nbsp;has&nbsp;a&nbsp;proctitle&nbsp;that&nbsp;matches</tt></dd></dl>

<dl ><dt ><a name="Program-writePidFile" ><strong >writePidFile</strong></a>(self, programConfig, forcePid=None)</dt><dd ><tt >writePidFile&nbsp;-&nbsp;write&nbsp;the&nbsp;pid&nbsp;file&nbsp;for&nbsp;this&nbsp;program.<br />
&nbsp;<br />
@param&nbsp;programConfig&nbsp;&lt;ProgramConfig.ProgramConfig&gt;&nbsp;-&nbsp;The&nbsp;ProgramConfig&nbsp;for&nbsp;this&nbsp;program<br />
&nbsp;<br />
@param&nbsp;forcePid&nbsp;&lt;int/None&gt;&nbsp;-&nbsp;if&nbsp;provided,&nbsp;use&nbsp;this&nbsp;pid&nbsp;instead&nbsp;of&nbsp;self.<strong >pid</strong><br />
&nbsp;<br />
@return&nbsp;-&nbsp;False&nbsp;if&nbsp;not&nbsp;written&nbsp;(no&nbsp;autopid),&nbsp;otherwise&nbsp;True&nbsp;if&nbsp;written.</tt></dd></dl>

<hr />
Class methods defined here:<br />
<dl ><dt ><a name="Program-createFromPidFile" ><strong >createFromPidFile</strong></a>(pidfile)<font color="#909090" ><font face="helvetica, arial" > from <a href="builtins.html#type" >builtins.type</a></font></font></dt><dd ><tt >createFromPidFile&nbsp;-&nbsp;Creates&nbsp;a&nbsp;<a href="#Program" >Program</a>&nbsp;from&nbsp;a&nbsp;pidfile.<br />
&nbsp;<br />
@param&nbsp;pidfile&nbsp;&lt;str&gt;&nbsp;-&nbsp;Path&nbsp;to&nbsp;pid&nbsp;file<br />
&nbsp;<br />
@raises&nbsp;-&nbsp;An&nbsp;exception&nbsp;if&nbsp;no&nbsp;process&nbsp;can&nbsp;be&nbsp;created&nbsp;from&nbsp;the&nbsp;pidfile.&nbsp;Specific&nbsp;exception&nbsp;depends&nbsp;on&nbsp;error.&nbsp;Not&nbsp;validated&nbsp;with&nbsp;proctitle_re,&nbsp;do&nbsp;that&nbsp;in&nbsp;an&nbsp;additional&nbsp;call.</tt></dd></dl>

<dl ><dt ><a name="Program-createFromRunningProcesses" ><strong >createFromRunningProcesses</strong></a>(programConfig)<font color="#909090" ><font face="helvetica, arial" > from <a href="builtins.html#type" >builtins.type</a></font></font></dt><dd ><tt >createFromRunningProcesses&nbsp;-&nbsp;Create&nbsp;a&nbsp;<a href="#Program" >Program</a>&nbsp;using&nbsp;programConfig.&nbsp;scans&nbsp;all&nbsp;running&nbsp;processes,&nbsp;and&nbsp;returns&nbsp;a&nbsp;constructed&nbsp;<a href="#Program" >Program</a>&nbsp;if&nbsp;a&nbsp;match&nbsp;is&nbsp;found.<br />
&nbsp;<br />
@param&nbsp;programConfig&nbsp;&lt;ProgramConfig.ProgramConfig&gt;&nbsp;-&nbsp;The&nbsp;config&nbsp;for&nbsp;a&nbsp;program<br />
&nbsp;<br />
@return&nbsp;-&nbsp;A&nbsp;constructed&nbsp;"<a href="#Program" >Program</a>"&nbsp;if&nbsp;a&nbsp;match&nbsp;found,&nbsp;ootherwise&nbsp;None.<br />
&nbsp;<br />
Should&nbsp;not&nbsp;raise&nbsp;anything.</tt></dd></dl>

<dl ><dt ><a name="Program-getAllChildPidsInTree" ><strong >getAllChildPidsInTree</strong></a>(rootPid)<font color="#909090" ><font face="helvetica, arial" > from <a href="builtins.html#type" >builtins.type</a></font></font></dt><dd ><tt >getAllChildPidsInTree&nbsp;-&nbsp;Get&nbsp;pids&nbsp;of&nbsp;children&nbsp;of&nbsp;given&nbsp;process,&nbsp;and&nbsp;their&nbsp;children,&nbsp;and&nbsp;their&nbsp;children...<br />
&nbsp;<br />
@param&nbsp;rootPid&nbsp;&lt;int&gt;&nbsp;-&nbsp;A&nbsp;process&nbsp;pid<br />
&nbsp;<br />
@return&nbsp;list&lt;int&gt;&nbsp;-&nbsp;Flat&nbsp;list&nbsp;of&nbsp;all&nbsp;child&nbsp;pids&nbsp;and&nbsp;their&nbsp;children.</tt></dd></dl>

<dl ><dt ><a name="Program-getChildPids" ><strong >getChildPids</strong></a>(pid)<font color="#909090" ><font face="helvetica, arial" > from <a href="builtins.html#type" >builtins.type</a></font></font></dt><dd ><tt >getChildPids&nbsp;-&nbsp;Get&nbsp;pids&nbsp;of&nbsp;children&nbsp;of&nbsp;a&nbsp;given&nbsp;process.<br />
&nbsp;<br />
Note&nbsp;--&nbsp;this&nbsp;is&nbsp;on&nbsp;the&nbsp;order&nbsp;of&nbsp;100x&nbsp;faster&nbsp;than&nbsp;using&nbsp;psutil,&nbsp;so&nbsp;that's&nbsp;why&nbsp;it's&nbsp;reimplemented.<br />
&nbsp;<br />
@param&nbsp;pid&nbsp;&lt;int&gt;&nbsp;-&nbsp;A&nbsp;process&nbsp;pid<br />
&nbsp;<br />
@return&nbsp;list&lt;int&gt;&nbsp;-&nbsp;List&nbsp;of&nbsp;children&nbsp;pids</tt></dd></dl>

<dl ><dt ><a name="Program-getMyRunningPids" ><strong >getMyRunningPids</strong></a>()<font color="#909090" ><font face="helvetica, arial" > from <a href="builtins.html#type" >builtins.type</a></font></font></dt><dd ><tt >getMyRunningPids&nbsp;-&nbsp;Get&nbsp;all&nbsp;running&nbsp;pids&nbsp;which&nbsp;are&nbsp;owned&nbsp;by&nbsp;the&nbsp;current&nbsp;user.<br />
&nbsp;<br />
@return&nbsp;-&nbsp;List&nbsp;of&nbsp;all&nbsp;running&nbsp;pids.<br />
&nbsp;<br />
When&nbsp;iterating,&nbsp;you&nbsp;likely&nbsp;want&nbsp;to&nbsp;wrap&nbsp;in&nbsp;try/except&nbsp;incase&nbsp;the&nbsp;pid&nbsp;stops&nbsp;running.</tt></dd></dl>

<dl ><dt ><a name="Program-getParentPid" ><strong >getParentPid</strong></a>(pid)<font color="#909090" ><font face="helvetica, arial" > from <a href="builtins.html#type" >builtins.type</a></font></font></dt><dd ><tt >getParentPid&nbsp;-&nbsp;Get&nbsp;parent&nbsp;pid&nbsp;of&nbsp;given&nbsp;process&nbsp;pid.<br />
&nbsp;<br />
@param&nbsp;pid&nbsp;&lt;int&gt;&nbsp;-&nbsp;Process&nbsp;pid<br />
&nbsp;<br />
@return&nbsp;&lt;int/None&gt;&nbsp;-&nbsp;Integer&nbsp;of&nbsp;parent&nbsp;pid&nbsp;of&nbsp;@pid,&nbsp;or&nbsp;None&nbsp;if&nbsp;could&nbsp;not&nbsp;determine&nbsp;(like&nbsp;program&nbsp;not&nbsp;running)</tt></dd></dl>

<dl ><dt ><a name="Program-getStatInfo" ><strong >getStatInfo</strong></a>(pid)<font color="#909090" ><font face="helvetica, arial" > from <a href="builtins.html#type" >builtins.type</a></font></font></dt><dd ><tt >getStatInfo&nbsp;-&nbsp;Parses&nbsp;/proc/$PID/stat&nbsp;and&nbsp;returns&nbsp;a&nbsp;dict&nbsp;of&nbsp;contents.<br />
&nbsp;<br />
Dict&nbsp;is&nbsp;not&nbsp;complete,&nbsp;all&nbsp;members&nbsp;currently&nbsp;needed&nbsp;are&nbsp;present,&nbsp;everything&nbsp;else&nbsp;will&nbsp;be&nbsp;in&nbsp;"unparsed"<br />
&nbsp;<br />
@return&nbsp;&lt;dict&gt;&nbsp;-&nbsp;Dict&nbsp;of&nbsp;stat&nbsp;fields.&nbsp;Current&nbsp;supported&nbsp;keys&nbsp;are:<br />
&nbsp;&nbsp;&nbsp;&nbsp;pid&nbsp;-&nbsp;Process&nbsp;ID&nbsp;of&nbsp;this&nbsp;process<br />
&nbsp;&nbsp;&nbsp;&nbsp;cwd&nbsp;-&nbsp;Current&nbsp;working&nbsp;directory&nbsp;of&nbsp;process<br />
&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;-&nbsp;State&nbsp;code<br />
&nbsp;&nbsp;&nbsp;&nbsp;ppid&nbsp;&nbsp;-&nbsp;Parent&nbsp;Pid<br />
&nbsp;<br />
@raises&nbsp;-&nbsp;KeyError&nbsp;if&nbsp;process&nbsp;does&nbsp;not&nbsp;exist<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueError&nbsp;if&nbsp;stat&nbsp;file&nbsp;cannto&nbsp;be&nbsp;parsed</tt></dd></dl>

<dl ><dt ><a name="Program-isProgramRunning" ><strong >isProgramRunning</strong></a>(programConfig)<font color="#909090" ><font face="helvetica, arial" > from <a href="builtins.html#type" >builtins.type</a></font></font></dt><dd ><tt >isProgramRunning&nbsp;-&nbsp;Actively&nbsp;check&nbsp;if&nbsp;a&nbsp;program&nbsp;is&nbsp;running<br />
&nbsp;<br />
@param&nbsp;programConfig&nbsp;&lt;ProgramConfig.ProgramConfig&gt;&nbsp;-&nbsp;The&nbsp;config&nbsp;of&nbsp;a&nbsp;program<br />
&nbsp;<br />
@return&nbsp;-&nbsp;True&nbsp;if&nbsp;the&nbsp;program&nbsp;is&nbsp;running&nbsp;and&nbsp;matches&nbsp;the&nbsp;proctitle.<br />
&nbsp;<br />
NOT&nbsp;USED!<br />
&nbsp;<br />
Use&nbsp;ProgramActions.getRunningProgram&nbsp;instead.&nbsp;That&nbsp;will&nbsp;return&nbsp;the&nbsp;program&nbsp;itself,&nbsp;and&nbsp;manage&nbsp;the&nbsp;pidfile.</tt></dd></dl>

<hr />
Data descriptors defined here:<br />
<dl ><dt ><strong >__dict__</strong></dt>
<dd ><tt >dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl ><dt ><strong >__weakref__</strong></dt>
<dd ><tt >list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></p></td></tr></table><p >
<table width="100%" cellspacing="0" cellpadding="2" border="0" summary="section" >
<tr bgcolor="#55aa55" >
<td colspan="3" valign="bottom" >&nbsp;<br />
<font color="#ffffff" face="helvetica, arial" ><big ><strong >Data</strong></big></font></td></tr>
    
<tr ><td bgcolor="#55aa55" ><tt >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td >&nbsp;</td>
<td width="100%" ><strong >__all__</strong> = ('Program',)</td></tr></table>
</p></p></p></body></html>